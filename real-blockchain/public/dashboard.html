<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PharbitChain - Enterprise Dashboard</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css"
      rel="stylesheet"
    />
    <style>
      .sidebar {
        height: 100vh;
        background: #1a237e;
        color: white;
      }
      .main-content {
        height: 100vh;
        overflow-y: auto;
      }
      .nav-link {
        color: rgba(255, 255, 255, 0.8);
      }
      .nav-link:hover {
        color: white;
      }
      .nav-link.active {
        background: rgba(255, 255, 255, 0.1);
        color: white;
      }
      .card {
        border: none;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }
      .metric-card {
        transition: transform 0.2s;
      }
      .metric-card:hover {
        transform: translateY(-5px);
      }
      .alert-banner {
        border-left: 4px solid #dc3545;
      }
    </style>
  </head>
  <body>
    <div class="container-fluid">
      <div class="row">
        <!-- Sidebar -->
        <div class="col-md-3 col-lg-2 sidebar p-3">
          <h4 class="mb-4">PharbitChain</h4>
          <div class="nav flex-column">
            <a
              class="nav-link active py-2 mb-2"
              data-bs-toggle="tab"
              href="#dashboard"
            >
              <i class="ri-dashboard-line me-2"></i> Dashboard
            </a>
            <a
              class="nav-link py-2 mb-2"
              data-bs-toggle="tab"
              href="#batch-management"
            >
              <i class="ri-box-3-line me-2"></i> Batch Management
            </a>
            <a
              class="nav-link py-2 mb-2"
              data-bs-toggle="tab"
              href="#supply-chain"
            >
              <i class="ri-route-line me-2"></i> Supply Chain
            </a>
            <a
              class="nav-link py-2 mb-2"
              data-bs-toggle="tab"
              href="#compliance"
            >
              <i class="ri-shield-check-line me-2"></i> Compliance
            </a>
            <a
              class="nav-link py-2 mb-2"
              data-bs-toggle="tab"
              href="#analytics"
            >
              <i class="ri-bar-chart-box-line me-2"></i> Analytics
            </a>
            <a class="nav-link py-2 mb-2" data-bs-toggle="tab" href="#settings">
              <i class="ri-settings-line me-2"></i> Settings
            </a>
          </div>
        </div>

        <!-- Main Content -->
        <div class="col-md-9 col-lg-10 main-content p-4">
          <div class="tab-content">
            <!-- Dashboard Tab -->
            <div class="tab-pane fade show active" id="dashboard">
              <h2 class="mb-4">Dashboard Overview</h2>

              <!-- Alerts Section -->
              <div class="alert alert-banner bg-light mb-4" role="alert">
                <h5>
                  <i class="ri-alarm-warning-line text-danger"></i> Active
                  Alerts
                </h5>
                <div id="alerts-container">
                  <!-- Alerts will be dynamically populated -->
                </div>
              </div>

              <!-- Metrics Grid -->
              <div class="row g-4 mb-4">
                <div class="col-md-3">
                  <div class="card metric-card bg-primary text-white">
                    <div class="card-body">
                      <h6>Active Batches</h6>
                      <h2 id="active-batches">0</h2>
                    </div>
                  </div>
                </div>
                <div class="col-md-3">
                  <div class="card metric-card bg-success text-white">
                    <div class="card-body">
                      <h6>Compliance Rate</h6>
                      <h2 id="compliance-rate">0%</h2>
                    </div>
                  </div>
                </div>
                <div class="col-md-3">
                  <div class="card metric-card bg-info text-white">
                    <div class="card-body">
                      <h6>Cold Chain Status</h6>
                      <h2 id="cold-chain-status">Normal</h2>
                    </div>
                  </div>
                </div>
                <div class="col-md-3">
                  <div class="card metric-card bg-warning text-white">
                    <div class="card-body">
                      <h6>Pending Approvals</h6>
                      <h2 id="pending-approvals">0</h2>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Quick Actions -->
              <div class="card mb-4">
                <div class="card-header">
                  <h5 class="card-title mb-0">Quick Actions</h5>
                </div>
                <div class="card-body">
                  <div class="row g-3">
                    <div class="col-md-4">
                      <button
                        class="btn btn-primary w-100"
                        data-bs-toggle="modal"
                        data-bs-target="#createBatchModal"
                      >
                        <i class="ri-add-line me-2"></i>Create New Batch
                      </button>
                    </div>
                    <div class="col-md-4">
                      <button
                        class="btn btn-success w-100"
                        data-bs-toggle="modal"
                        data-bs-target="#verifyBatchModal"
                      >
                        <i class="ri-shield-check-line me-2"></i>Verify Batch
                      </button>
                    </div>
                    <div class="col-md-4">
                      <button
                        class="btn btn-info w-100"
                        data-bs-toggle="modal"
                        data-bs-target="#trackShipmentModal"
                      >
                        <i class="ri-route-line me-2"></i>Track Shipment
                      </button>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Recent Activity -->
              <div class="card">
                <div class="card-header">
                  <h5 class="card-title mb-0">Recent Activity</h5>
                </div>
                <div class="card-body">
                  <div id="activity-feed" class="list-group list-group-flush">
                    <!-- Activity items will be dynamically populated -->
                  </div>
                </div>
              </div>
            </div>

            <!-- Batch Management Tab -->
            <div class="tab-pane fade" id="batch-management">
              <h2 class="mb-4">Batch Management</h2>
              <div class="row">
                <div class="col-md-12">
                  <div class="card">
                    <div class="card-header">
                      <div
                        class="d-flex justify-content-between align-items-center"
                      >
                        <h5 class="card-title mb-0">Active Batches</h5>
                        <button
                          class="btn btn-primary"
                          data-bs-toggle="modal"
                          data-bs-target="#createBatchModal"
                        >
                          <i class="ri-add-line me-2"></i>New Batch
                        </button>
                      </div>
                    </div>
                    <div class="card-body">
                      <div class="table-responsive">
                        <table class="table table-hover">
                          <thead>
                            <tr>
                              <th>Batch ID</th>
                              <th>Product</th>
                              <th>Created Date</th>
                              <th>Status</th>
                              <th>Temperature</th>
                              <th>Actions</th>
                            </tr>
                          </thead>
                          <tbody id="batch-table-body">
                            <!-- Batch rows will be dynamically populated -->
                          </tbody>
                        </table>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Supply Chain Tab -->
            <div class="tab-pane fade" id="supply-chain">
              <h2 class="mb-4">Supply Chain Tracking</h2>
              <div class="row">
                <div class="col-md-8">
                  <div class="card">
                    <div class="card-header">
                      <h5 class="card-title mb-0">Supply Chain Map</h5>
                    </div>
                    <div class="card-body">
                      <div id="supply-chain-map" style="height: 400px">
                        <!-- Map will be rendered here -->
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="card">
                    <div class="card-header">
                      <h5 class="card-title mb-0">Active Shipments</h5>
                    </div>
                    <div class="card-body">
                      <div id="shipments-list" class="list-group">
                        <!-- Shipments will be dynamically populated -->
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Compliance Tab -->
            <div class="tab-pane fade" id="compliance">
              <h2 class="mb-4">Compliance & Audit</h2>
              <div class="row">
                <div class="col-md-12">
                  <div class="card">
                    <div class="card-header">
                      <h5 class="card-title mb-0">Compliance Reports</h5>
                    </div>
                    <div class="card-body">
                      <div class="table-responsive">
                        <table class="table">
                          <thead>
                            <tr>
                              <th>Report ID</th>
                              <th>Type</th>
                              <th>Date</th>
                              <th>Status</th>
                              <th>Actions</th>
                            </tr>
                          </thead>
                          <tbody id="compliance-table-body">
                            <!-- Compliance reports will be dynamically populated -->
                          </tbody>
                        </table>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Analytics Tab -->
            <div class="tab-pane fade" id="analytics">
              <h2 class="mb-4">Analytics & Insights</h2>
              <div class="row">
                <div class="col-md-6">
                  <div class="card">
                    <div class="card-header">
                      <h5 class="card-title mb-0">Batch Performance</h5>
                    </div>
                    <div class="card-body">
                      <canvas id="batch-performance-chart"></canvas>
                    </div>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="card">
                    <div class="card-header">
                      <h5 class="card-title mb-0">Temperature Compliance</h5>
                    </div>
                    <div class="card-body">
                      <canvas id="temperature-chart"></canvas>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Settings Tab -->
            <div class="tab-pane fade" id="settings">
              <h2 class="mb-4">Settings & Configuration</h2>
              <div class="row">
                <div class="col-md-6">
                  <div class="card">
                    <div class="card-header">
                      <h5 class="card-title mb-0">User Preferences</h5>
                    </div>
                    <div class="card-body">
                      <form id="settings-form">
                        <div class="mb-3">
                          <label class="form-label">Temperature Units</label>
                          <select class="form-select" id="temp-unit">
                            <option value="celsius">Celsius</option>
                            <option value="fahrenheit">Fahrenheit</option>
                          </select>
                        </div>
                        <div class="mb-3">
                          <label class="form-label"
                            >Notification Preferences</label
                          >
                          <div class="form-check">
                            <input
                              class="form-check-input"
                              type="checkbox"
                              id="email-notifications"
                            />
                            <label class="form-check-label"
                              >Email Notifications</label
                            >
                          </div>
                          <div class="form-check">
                            <input
                              class="form-check-input"
                              type="checkbox"
                              id="sms-notifications"
                            />
                            <label class="form-check-label"
                              >SMS Notifications</label
                            >
                          </div>
                        </div>
                        <button type="submit" class="btn btn-primary">
                          Save Settings
                        </button>
                      </form>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Modals -->
    <!-- Create Batch Modal -->
    <div class="modal fade" id="createBatchModal" tabindex="-1">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Create New Batch</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
            ></button>
          </div>
          <div class="modal-body">
            <form id="create-batch-form">
              <div class="mb-3">
                <label class="form-label">Product Name</label>
                <input type="text" class="form-control" required />
              </div>
              <div class="mb-3">
                <label class="form-label">Batch Size</label>
                <input type="number" class="form-control" required />
              </div>
              <div class="mb-3">
                <label class="form-label">Manufacturing Date</label>
                <input type="date" class="form-control" required />
              </div>
              <div class="mb-3">
                <label class="form-label">Expiry Date</label>
                <input type="date" class="form-control" required />
              </div>
              <div class="mb-3">
                <label class="form-label">Storage Temperature (Â°C)</label>
                <input type="number" class="form-control" required />
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              Cancel
            </button>
            <button type="button" class="btn btn-primary">Create Batch</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Verify Batch Modal -->
    <div class="modal fade" id="verifyBatchModal" tabindex="-1">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Verify Batch</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
            ></button>
          </div>
          <div class="modal-body">
            <form id="verify-batch-form">
              <div class="mb-3">
                <label class="form-label">Batch ID</label>
                <input type="text" class="form-control" required />
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              Cancel
            </button>
            <button type="button" class="btn btn-primary">Verify</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Track Shipment Modal -->
    <div class="modal fade" id="trackShipmentModal" tabindex="-1">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Track Shipment</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
            ></button>
          </div>
          <div class="modal-body">
            <form id="track-shipment-form">
              <div class="mb-3">
                <label class="form-label">Shipment ID</label>
                <input type="text" class="form-control" required />
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              Cancel
            </button>
            <button type="button" class="btn btn-primary">Track</button>
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="js/dashboard.js"></script>
  </body>
</html>
